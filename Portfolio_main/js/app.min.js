let body=document.querySelector("body");const lock=document.querySelector("._lock");let wrapper=document.querySelector(".wrapper");function showMenu(e){const t=document.querySelector(".ham"),r=document.querySelector(".hamburger"),o=document.querySelector("."+e),i=e;t.addEventListener("click",e=>{o.classList.toggle(i+"_active"),body.classList.toggle("_lock"),r.classList.toggle("_fixed")})}function closeMenuOnLink(e){const t=document.querySelector("."+e),r=document.querySelectorAll("."+e+"__link"),o=document.querySelector(".ham"),i=document.querySelector(".hamburger"),n=e;r.forEach(e=>{e.addEventListener("click",r=>{r.preventDefault();let u=e.getAttribute("href"),c=document.querySelector(u).offsetTop;setTimeout(()=>{window.scrollTo({top:c,behavior:"smooth"})},400),t.classList.toggle(n+"_active"),body.classList.toggle("_lock"),o.classList.toggle("active"),i.classList.toggle("_fixed")})})}function setProgress(){const e=document.querySelectorAll(".progress-block__count"),t=document.querySelectorAll(".progress-block__progress-bar span");e.forEach((e,r)=>{t[r].style.width=e.innerHTML})}function addSmoothScroll(){document.querySelectorAll(".smooth-scroll").forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();let r=e.getAttribute("href"),o=document.querySelector(r).offsetTop;setTimeout(()=>{window.scrollTo({top:o,behavior:"smooth"})})})})}showMenu("menu"),closeMenuOnLink("menu"),setProgress(),addSmoothScroll();var ua=window.navigator.userAgent,msie=ua.indexOf("MSIE "),isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows()}};function isIE(){return(ua=navigator.userAgent).indexOf("MSIE ")>-1||ua.indexOf("Trident/")>-1}function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}function ibg(){if(isIE()){let t=document.querySelectorAll("._ibg");for(var e=0;e<t.length;e++)t[e].querySelector("img")&&null!=t[e].querySelector("img").getAttribute("src")&&(t[e].style.backgroundImage="url("+t[e].querySelector("img").getAttribute("src")+")")}}isIE()&&document.querySelector("body").classList.add("ie"),isMobile.any()&&document.querySelector("body").classList.add("_touch"),testWebP((function(e){1==e?document.querySelector("body").classList.add("_webp"):document.querySelector("body").classList.add("_no-webp")})),ibg(),document.querySelector(".wrapper")&&document.querySelector(".wrapper").classList.add("_loaded");let unlock=!0;function validateForm(e){$(e).validate({rules:{userName:{required:!0,minlength:2},userEmail:{required:!0,email:!0},privacy:"required"},messages:{userName:{required:"Пожалуйста, введите свое имя",minlength:jQuery.validator.format("Введите минимум {0} символа!")},userEmail:{required:"Пожалуйста, введите свою почту",email:"Неправильно введен адрес почты"},privacy:{required:""}}})}$(document).ready((function(){$(".form").each((function(e){validateForm(this)})),$("form").submit((function(e){e.preventDefault();let t=$(this).find('input[name="userName"]').val();return""!==$(this).find('input[name="userEmail"]').val()&&""!==t&&$.ajax({type:"POST",url:"mailer/smart.php",data:$(this).serialize()}).done((function(){$(this).find("input").val(""),$("form").trigger("reset")})),!1}))}));